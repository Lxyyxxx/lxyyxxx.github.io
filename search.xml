<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ä½¿ç”¨é˜¿é‡Œäº‘ECSé…ç½®MongoDBé›†ç¾¤</title>
    <url>/2019/09/Aliyun-MongoDBCluster/</url>
    <content><![CDATA[<h1 id="éœ€è¦å‡†å¤‡çš„ä¸œè¥¿"><a class="header-anchor" href="#éœ€è¦å‡†å¤‡çš„ä¸œè¥¿"># </a>éœ€è¦å‡†å¤‡çš„ä¸œè¥¿</h1>
<p>ä¸‰å°åŒä¸€åœ°åŸŸçš„é˜¿é‡Œäº‘å­¦ç”Ÿæœºï¼ˆUbuntu 18.04.3ï¼‰ï¼Œè®°ä½<strong>å…¬ç½‘ip</strong>å’Œ<strong>ç§ç½‘ip</strong>ä»¥åŠæœåŠ¡å™¨çš„<strong>ä¸»æœºå</strong>ã€‚</p>
<h1 id="Step-1-å†…ç½‘äº’é€š"><a class="header-anchor" href="#Step-1-å†…ç½‘äº’é€š"># </a>Step 1: å†…ç½‘äº’é€š</h1>
<p>ä½¿ç”¨äº‘ä¼ä¸šç½‘ä½¿å†…ç½‘äº’é€šï¼Œ<strong>åªéœ€è¦ä¸€ä¸ªäº‘ä¼ä¸šç½‘</strong>ï¼Œä¹Ÿå°±æ˜¯åªéœ€è¦ä¸€å°æœåŠ¡å™¨å»ºç«‹äº‘ä¼ä¸šç½‘ï¼Œå…¶ä»–ä¸¤å°åŠ å…¥å°±å¥½äº†ã€‚</p>
<blockquote>
<p>ä¼ é€é—¨ï¼š<a href="https://help.aliyun.com/document_detail/65901.html" target="_blank" rel="noopener">è·¨è´¦å·åŒåœ°åŸŸç½‘ç»œå®ä¾‹äº’é€š</a></p>
</blockquote>
<p>ä¸‰å°æœºå™¨éƒ½åŠ å…¥äº‘ä¼ä¸šç½‘åï¼Œè¿›å…¥äº‘ä¼ä¸šç½‘çœ‹<strong>è·¯ç”±ä¿¡æ¯</strong>ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å†²çªã€‚<br>
<img src="/2019/09/Aliyun-MongoDBCluster/pic2.png" alt="pic2"><br>
è‹¥æœ‰å†²çªï¼Œåˆ™éœ€è¦ä¿®æ”¹å¯¼è‡´å†²çªå…¶ä¸­ä¸€æ–¹çš„ç§ç½‘ipå¹¶<strong>æ›´æ¢äº¤æ¢æœº</strong>ã€‚</p>
<blockquote>
<p>ä¼ é€é—¨ï¼š<a href="https://help.aliyun.com/document_detail/27733.html" target="_blank" rel="noopener">ä¿®æ”¹ç§ç½‘IPåœ°å€</a></p>
</blockquote>
<p>äº’ç›¸éƒ½èƒ½pingé€šçš„è¯ï¼Œå°±è¯´æ˜é…ç½®å¥½äº†ã€‚</p>
<h1 id="Step-2-å®‰è£…MongoDB-4-2-0"><a class="header-anchor" href="#Step-2-å®‰è£…MongoDB-4-2-0"># </a>Step 2: å®‰è£…MongoDB 4.2.0</h1>
<p>è¿™é‡Œç›´æ¥æŒ‰å®˜æ–¹æ–‡æ¡£æ“ä½œå°±å¥½äº†ï¼Œaptæˆ–å‹ç¼©åŒ…å®‰è£…å‡å¯ã€‚</p>
<blockquote>
<p>ä¼ é€é—¨ï¼š<a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/" target="_blank" rel="noopener">Install MongoDB Community Edition on Ubuntu</a></p>
</blockquote>
<h1 id="Step-3-æ·»åŠ è™šæ‹Ÿå†…å­˜"><a class="header-anchor" href="#Step-3-æ·»åŠ è™šæ‹Ÿå†…å­˜"># </a>Step 3: æ·»åŠ è™šæ‹Ÿå†…å­˜</h1>
<p>å› ä¸ºé˜¿é‡Œäº‘å­¦ç”Ÿæœºåªæœ‰2GiB RAMï¼Œä½†MongoDB Ops Manageréœ€è¦15GB RAMï¼Œæ‰€ä»¥éœ€è¦åŠ è™šæ‹Ÿå†…å­˜ã€‚</p>
<p>æŸ¥çœ‹RAMä½¿ç”¨çŠ¶æ€</p>
<pre><code class="language-bash">free -h
</code></pre>
<p>æŸ¥çœ‹ç¡¬ç›˜ä½¿ç”¨çŠ¶æ€</p>
<pre><code class="language-bash">df -h
</code></pre>
<p>æŸ¥çœ‹æ˜¯å¦å­˜åœ¨swapfile</p>
<pre><code class="language-bash">sudo swapon -s
</code></pre>
<p>åˆ›å»ºswapfileï¼Œæˆ‘æ˜¯ç›´æ¥å¼€äº†16Gã€‚</p>
<pre><code class="language-bash">sudo fallocate -l 16G /swapfile
</code></pre>
<p>åˆå§‹åŒ–ä¸ºswap</p>
<pre><code class="language-bash">sudo mkswap /swapfile
</code></pre>
<p>æŒ‚è½½swapfile</p>
<pre><code class="language-bash">sudo swapon /swapfile
</code></pre>
<p>ä½¿swapfileè‡ªåŠ¨æŒ‚è½½</p>
<pre><code class="language-bash">echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
</code></pre>
<h1 id="Step-4-å®‰è£…MongoDB-Ops-Manager-4-2-1"><a class="header-anchor" href="#Step-4-å®‰è£…MongoDB-Ops-Manager-4-2-1"># </a>Step 4: å®‰è£…MongoDB Ops Manager 4.2.1</h1>
<p><strong>åªéœ€è¦ä¸€å°æœºå™¨å®‰è£…</strong>ï¼è¿™é‡Œä½¿ç”¨DEBåŒ…å®‰è£…çš„æ–¹å¼ã€‚</p>
<blockquote>
<p>ä¼ é€é—¨ï¼š<a href="https://docs.opsmanager.mongodb.com/current/tutorial/install-on-prem-with-deb-packages/" target="_blank" rel="noopener">Install Ops Manager with a deb Package</a></p>
</blockquote>
<blockquote>
<p>å…¶ä¸­ç¬¬ä¸‰æ­¥ï¼Œ<code>mongo.mongoUri</code>åªéœ€å¡«ä¸€å°æœºå™¨ï¼ˆå½“å‰æœºå™¨ï¼‰çš„<strong>ç§ç½‘</strong>å’Œç”¨äºå­˜å‚¨æ—¥å¿—ç­‰çš„æ•°æ®åº“<strong>ç«¯å£</strong>ã€‚ä¸é‡‡ç”¨httpsçš„è¯ï¼Œ<code>mongo.ssl</code>å¡«<code>False</code>ã€‚</p>
</blockquote>
<p>å¯åŠ¨mongodb-mms.serciveæ˜¯ä¸€ä¸ªæ¼«é•¿çš„è¿‡ç¨‹ï¼Œå¯ä»¥<code>sudo systemctl status mongodb-mms.service</code>æŸ¥çœ‹å¯åŠ¨çŠ¶æ€ï¼Œæˆ–æ˜¯å¯åŠ¨æ—¶ä½¿ç”¨å‘½ä»¤<code>sudo /etc/init.d/mongodb-mms.service start</code>ã€‚<br>
èƒ½è®¿é—®<code>http://&lt;å¤–ç½‘ip&gt;:8080</code>å°±okäº†ï¼Œç„¶åå°±æ³¨å†Œå’Œé…ç½®å°±å¥½äº†ã€‚</p>
<blockquote>
<p><code>URL To Access Ops Manager</code>å¡«<code>http://&lt;ç§ç½‘ip&gt;:8080</code>ï¼Œè¿™æ ·é€Ÿåº¦ä¼šå¿«ã€‚</p>
</blockquote>
<blockquote>
<p><code>Installer Download Source</code>é€‰<code>Ops Manager Application Server</code>ï¼Œä¸‹é¢ä¸€ä¸ªä¸‹æ‹‰æ¡†é€‰<code>Ops Manager Application Server Hard Driver</code>ã€‚<br>
æ„æ€å°±æ˜¯ä»æœ¬æœºä¸‹è½½MongoDBï¼Œè€Œä¸æ˜¯ä»MongoDBæºã€‚ç„¶åæŠŠmongodb4.2.0çš„tgzå‹ç¼©åŒ…æ”¾åˆ°å½“å‰æœºå™¨çš„<code>/opt/mongodb/mms/mongodb-releases/</code>æ–‡ä»¶å¤¹ï¼ˆå°±æ˜¯<code>Versions Directory</code>å¡«çš„æ–‡ä»¶å¤¹ï¼‰ä¸‹ã€‚</p>
</blockquote>
<h1 id="Step-5-ä¿®æ”¹ä¸»æœºå"><a class="header-anchor" href="#Step-5-ä¿®æ”¹ä¸»æœºå"># </a>Step 5: ä¿®æ”¹ä¸»æœºå</h1>
<p><strong>æ¯å°æœºå™¨éƒ½è¦ä¿®æ”¹ï¼</strong><br>
æ‰“å¼€<code>/etc/hosts</code>ä¿®æ”¹ä¸»æœºåï¼Œå¦‚æœæ–‡ä»¶æç¤ºReadonlyï¼Œé‚£ä¹ˆæ‰§è¡Œ<code>chmod 644 /etc/hosts</code>èµ‹äºˆæƒé™ã€‚<br>
åœ¨å¼€å¤´æ·»åŠ ä»¥ä¸‹å½¢å¼çš„å†…å®¹ï¼š</p>
<pre><code>ç§ç½‘ip1 ä¸»æœºå1
ç§ç½‘ip2 ä¸»æœºå2
ç§ç½‘ip3 ä¸»æœºå3
</code></pre>
<p><img src="/2019/09/Aliyun-MongoDBCluster/pic3.png" alt="pic3"></p>
<blockquote>
<p>ä¸€ä¸ªä¸»æœºååªèƒ½å¯¹åº”ä¸€ä¸ªç§ç½‘ipï¼</p>
</blockquote>
<h1 id="Step-6-å®‰è£…MongoDB-Agent"><a class="header-anchor" href="#Step-6-å®‰è£…MongoDB-Agent"># </a>Step 6: å®‰è£…MongoDB Agent</h1>
<p><strong>æ¯å°æœºå™¨éƒ½è¦å®‰è£…ï¼</strong><br>
Agents -&gt; Downloads &amp; Settings -&gt; ä¸‹æ‹‰æ¡†é€‰æ‹©ç³»ç»Ÿ -&gt; é€‰æ‹©<code>Debian 8/9, Ubuntu 16.x/18.x - DEB</code>ï¼Œç„¶åæŒ‰æ­¥éª¤å®‰è£…å³å¯ã€‚<br>
<img src="/2019/09/Aliyun-MongoDBCluster/pic1.png" alt="pic1"></p>
<blockquote>
<p>æ³¨æ„è¦ä¿å­˜å¥½<code>Agent API Key</code>ï¼Œå› ä¸ºåœ¨æ•™ç¨‹é¡µé¢åªå‡ºç°ä¸€æ¬¡ï¼</p>
</blockquote>
<p><code>sudo systemctl status mongodb-mms-automation-agent.service</code>æŸ¥çœ‹å¯åŠ¨çŠ¶æ€ï¼Œæ²¡æœ‰failedé€šå¸¸æ¥è¯´å°±æ˜¯okäº†ã€‚</p>
<h1 id="Step-7-æ–°å»ºé›†ç¾¤"><a class="header-anchor" href="#Step-7-æ–°å»ºé›†ç¾¤"># </a>Step 7: æ–°å»ºé›†ç¾¤</h1>
<p>Add New -&gt; New Sharded Clusterï¼Œè‡ªè¡Œé…ç½®å°±å¥½äº†ï¼Œä½†æ˜¯æ³¨æ„<strong>ç«¯å£</strong>è¿˜æœ‰<strong>åœ°å€</strong>ä¸è¦å†²çªï¼Œä¸”<strong>åœ¨é˜¿é‡Œäº‘å†…éœ€è¦å¼€ç«¯å£</strong>ã€‚å¦‚æœä¹‹å‰é…ç½®éƒ½å¯¹çš„è¯ï¼Œæ˜¯å¾ˆå¿«å°±ä¼šå»ºå¥½çš„ã€‚<br>
<img src="/2019/09/Aliyun-MongoDBCluster/pic6.png" alt="pic6"></p>
<blockquote>
<p>å¦‚æœæç¤º<strong>æƒé™</strong>é”™è¯¯çš„è¯ï¼Œå°±æ£€æŸ¥ä¸€ä¸‹<code>/data</code>æ–‡ä»¶å¤¹çš„æƒé™ã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚æœæç¤º<strong>ç½‘ç»œé€šä¿¡</strong>é—´çš„é”™è¯¯çš„è¯ï¼Œå°±æ£€æŸ¥ä¸€ä¸‹<code>/etc/hosts</code>æ–‡ä»¶çš„ipå’Œä¸»æœºåçš„å¯¹åº”å…³ç³»ï¼Œè¿˜æœ‰ç«¯å£æ˜¯å¦éƒ½å¼€äº†ã€‚å¦‚æœç›¸äº’ä¹‹é—´<code>mongo &lt;ä¸»æœºå&gt;:&lt;ç«¯å£&gt;</code>èƒ½è¿ä¸Šï¼ŒåŸºæœ¬å°±æ²¡é—®é¢˜äº†ã€‚</p>
</blockquote>
<h1 id="Step-8-æ’å…¥æ•°æ®"><a class="header-anchor" href="#Step-8-æ’å…¥æ•°æ®"># </a>Step 8: æ’å…¥æ•°æ®</h1>
<ul>
<li>ç”¨Ops Managerå¯ä»¥æ’å…¥å•æ¡æ•°æ®</li>
<li>ç”¨NoSQLBoosterè¿æ¥é›†ç¾¤ï¼Œç”¨Importå¯ä»¥é€šè¿‡æ–‡ä»¶æ’å…¥å¤šæ¡æ•°æ®</li>
</ul>
<blockquote>
<p>è¿æ¥NoSQLBoosteræ—¶ï¼Œéœ€è¦åœ¨æœ¬æœºä¿®æ”¹hostsæ–‡ä»¶ã€‚<br>
Windowsçš„æ–‡ä»¶ä½ç½®åœ¨<code>C:\Windows\System32\drivers\etc\hosts</code>ï¼ŒåƒStep 5ä¸€æ ·æ·»åŠ å†…å®¹ï¼ˆ<strong>ç§ç½‘ipè¦æ”¹æˆå…¬ç½‘ip</strong>ï¼‰å°±å¥½äº†ã€‚é…ç½®å¥½äº†æ˜¯å¯ä»¥é€šè¿‡<code>&lt;ä¸»æœºå&gt;:&lt;ç«¯å£&gt;</code>è¿ä¸Šçš„ã€‚<br>
<img src="/2019/09/Aliyun-MongoDBCluster/pic5.png" alt="pic5"></p>
</blockquote>
]]></content>
      <categories>
        <category>æ²¡æœ‰å®˜æ–¹æ–‡æ¡£é‡è¦çš„æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>é˜¿é‡Œäº‘ECS</tag>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€ä»½ Windows Terminal é…ç½®ç¬”è®°</title>
    <url>/2020/02/BeautifyWindowsTerminal/</url>
    <content><![CDATA[<!-- toc -->
<p><a href="https://github.com/microsoft/terminal" target="_blank" rel="noopener">Windows Terminal çš„ github ä¼ é€é—¨</a></p>
<h1 id="å®‰è£…-Windows-Terminal"><a class="header-anchor" href="#å®‰è£…-Windows-Terminal"># </a>å®‰è£… Windows Terminal</h1>
<p>åˆ° <a href="https://www.microsoft.com/zh-cn/p/windows-terminal-preview/9n0dx20hk701?ocid=AID681541_aff_7593_1243925" target="_blank" rel="noopener">Microsoft Store</a> å°±èƒ½å®‰è£…å•¦ï¼</p>
<h1 id="Profiles-json"><a class="header-anchor" href="#Profiles-json"># </a>Profiles.json</h1>
<p>Windows Terminal çš„é…ç½®éƒ½åœ¨è¿™é‡Œé¢ï¼Œé€šè¿‡ä¿®æ”¹è¿™é‡Œé¢çš„å‚æ•°å°±èƒ½è‡ªå®šä¹‰è‡ªå·±çš„ Windows Terminal å•¦ï¼<br>
<a href="https://github.com/microsoft/terminal/blob/master/doc/cascadia/SettingsSchema.md" target="_blank" rel="noopener">Profiles.json çš„å‚æ•°è¯´æ˜</a><br>
å…ˆæ”¾ä¸€ä»½æˆ‘è‡ªå·±çš„æ•ˆæœå›¾ğŸ˜</p>
<p><img src="/2020/02/BeautifyWindowsTerminal/color.png" alt="color"></p>
<p>æ¥ä¸‹æ¥å°±å¼€å§‹è®²é…ç½®å•¦ï¼</p>
<h2 id="èƒŒæ™¯"><a class="header-anchor" href="#èƒŒæ™¯"># </a>èƒŒæ™¯</h2>
<p>èƒŒæ™¯å¯ä»¥è®¾ç½®èƒŒæ™¯å›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰ã€‚æˆ‘åªæ˜¯ä½¿ç”¨äº†<code>useAcrylic</code>å’Œ<code>acrylicOpacity</code>å¼€å¯äº†æ¯›ç»ç’ƒæ•ˆæœè€Œå·²ã€‚èƒŒæ™¯é¢œè‰²åœ¨æ¥ä¸‹æ¥è¦è®²çš„<code>Schemes</code>ä¸­çš„<code>background</code>ä¸­è®¾ç½®ã€‚</p>
<h2 id="é…è‰²"><a class="header-anchor" href="#é…è‰²"># </a>é…è‰²</h2>
<p>é€šè¿‡ <a href="https://github.com/microsoft/terminal/blob/master/doc/cascadia/SettingsSchema.md#Schemes" target="_blank" rel="noopener"><code>Schemes</code></a> è®¾ç½®è‡ªå·±å–œæ¬¢çš„é…è‰²ï¼Œç„¶ååœ¨<code>name</code>ä¸­å–ä¸Šä¸€ä¸ªåå­—ï¼Œå°±å¯ä»¥é€šè¿‡<code>colorScheme</code>è°ƒç”¨å•¦ï¼<br>
åœ¨<a href="https://github.com/mbadolato/iTerm2-Color-Schemes/tree/master/windowsterminal" target="_blank" rel="noopener">iTerm2</a>ä¸­å·²ç»æœ‰ä¸€äº›ç°æˆçš„é…è‰²æ–¹æ¡ˆäº†ï¼Œç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†ã€‚<br>
æˆ‘ä½¿ç”¨çš„æ˜¯ä¿®æ”¹åçš„<code>OneHalfLight</code>ï¼Œå°†ç™½è‰²ä¿®æ”¹æˆäº†ç°è‰²ï¼Œé¿å…çœ‹ä¸æ¸…çš„æƒ…å†µã€‚åŒæ—¶è¿˜ä¿®æ”¹äº†å…‰æ ‡çš„é¢œè‰²<code>cursorColor</code>ã€‚</p>
<pre><code class="language-json">{
  &quot;profiles&quot;: [
    {
      &quot;colorScheme&quot;: &quot;OneHalfLight&quot;,
      &quot;cursorColor&quot;: &quot;#7A8181&quot;
    }
  ],
  &quot;schemes&quot;: [
    {
      &quot;name&quot;: &quot;OneHalfLight&quot;,
      &quot;black&quot;: &quot;#383a42&quot;,
      &quot;red&quot;: &quot;#e45649&quot;,
      &quot;green&quot;: &quot;#4876D6&quot;,
      &quot;yellow&quot;: &quot;#c18401&quot;,
      &quot;blue&quot;: &quot;#0184bc&quot;,
      &quot;purple&quot;: &quot;#a626a4&quot;,
      &quot;cyan&quot;: &quot;#0997b3&quot;,
      &quot;white&quot;: &quot;#7A8181&quot;,
      &quot;brightBlack&quot;: &quot;#4f525e&quot;,
      &quot;brightRed&quot;: &quot;#e06c75&quot;,
      &quot;brightGreen&quot;: &quot;#98c379&quot;,
      &quot;brightYellow&quot;: &quot;#e5c07b&quot;,
      &quot;brightBlue&quot;: &quot;#61afef&quot;,
      &quot;brightPurple&quot;: &quot;#c678dd&quot;,
      &quot;brightCyan&quot;: &quot;#56b6c2&quot;,
      &quot;brightWhite&quot;: &quot;#989FB1&quot;,
      &quot;background&quot;: &quot;#fafafa&quot;,
      &quot;foreground&quot;: &quot;#383a42&quot;
    }
  ]
}
</code></pre>
<h2 id="å­—ä½“"><a class="header-anchor" href="#å­—ä½“"># </a>å­—ä½“</h2>
<p>å­—ä½“å¯ä»¥é€šè¿‡<code>font-face</code>è¿›è¡Œæ›´æ”¹ï¼Œä½†åªèƒ½è®¾ç½®ä¸€ä¸ªå­—ä½“ã€‚å¦‚æœæƒ³è¦åŒæ—¶æ‹¥æœ‰å–œæ¬¢çš„è‹±æ–‡ç­‰å®½å­—ä½“å’Œä¸­æ–‡ç­‰å®½å­—ä½“çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨<a href="https://github.com/nowar-fonts/Warcraft-Font-Merger" target="_blank" rel="noopener">WFM</a>è¿›è¡Œåˆæˆã€‚<br>
æˆ‘ä½¿ç”¨çš„æ˜¯<code>Consolas</code>å’Œ<code>Source Han Sans SC</code>ï¼ˆæ€æºå®‹ä½“ï¼‰çš„æ··åˆå­—ä½“ã€‚</p>
<h2 id="æ›´å¤šTab"><a class="header-anchor" href="#æ›´å¤šTab"># </a>æ›´å¤šTab</h2>
<p>åœ¨<code>profiles</code>ä¸­ï¼Œä¸€ä¸ªå­—å…¸ä»£è¡¨ç€ä¸€ä¸ªé€‰é¡¹çª—å£ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®<code>commandline</code>è®¾ç½®ä¸åŒçš„å‘½ä»¤å¾—åˆ°ä¸åŒä¾¿æ·çš„é€‰é¡¹çª—å£ã€‚<br>
æˆ‘ç›®å‰çš„é€‰é¡¹çª—å£æœ‰è¿™äº›ğŸ‘‡</p>
<p><img src="/2020/02/BeautifyWindowsTerminal/tab.png" alt="tab"></p>
<p>ä»¥å›¾ä¸­çš„iPythonä¸ºä¾‹å­ï¼Œè¿™æ˜¯é…ç½®å­—å…¸ğŸ‘‡</p>
<pre><code class="language-json">{
      &quot;guid&quot;: &quot;{9434E8AE-D1E1-4F63-B8F7-F6F7DACD0C02}&quot;,
      &quot;hidden&quot;: false,
      &quot;name&quot;: &quot;IPython&quot;,
      &quot;commandline&quot;: &quot;ipython&quot;,
      &quot;acrylicOpacity&quot;: 0.75,
      &quot;useAcrylic&quot;: true,
      &quot;closeOnExit&quot;: true,
      &quot;fontFace&quot;: &quot;Consolas + Source Han Sans SC&quot;,
      &quot;colorScheme&quot;: &quot;OneHalfLight&quot;,
      &quot;tabTitle&quot;: &quot;IPython&quot;,
      &quot;icon&quot;: &quot;D:/Picture/Icon/python-144.png&quot;,
      &quot;cursorColor&quot;: &quot;#7A8181&quot;,
      &quot;cursorShape&quot;: &quot;bar&quot;,
      &quot;startingDirectory&quot;: null
}
</code></pre>
<p>èƒ½å¯åŠ¨ iPython çš„åŸå› å°±æ˜¯æˆ‘åœ¨<code>commandline</code>ä¸­è®¾ç½®äº†<code>ipython</code>ã€‚å¦‚æœä½ åœ¨<code>Powershell</code>ä¸­è¾“å…¥<code>ipython</code>å¯ä»¥å¯åŠ¨ iPython çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªçª—å£ä½ å°±å¯ä»¥å¼€å¯ã€‚<br>
æ¯ä¸ªé€‰é¡¹çª—å£ä¼šæœ‰ä¸€ä¸ª<code>guid</code>ï¼Œè¿™ä¸ªå¯ä»¥éšæœºç”Ÿæˆï¼Œæˆ–è€…æ˜¯é€šè¿‡<code>Visual Studio</code>ä¸­çš„å·¥å…· â†’ åˆ›å»ºGUID è¿›è¡Œç”Ÿæˆï¼Œä½ å¯ä»¥åœ¨å…¨å±€ä¸­æ›´æ”¹<code>defaultProfile</code>çš„ GUID è¿›è¡Œé»˜è®¤å¯åŠ¨çª—å£çš„è®¾ç½®ã€‚<br>
æˆ‘çš„ iPython æ•ˆæœå›¾ğŸ‘‡</p>
<p><img src="/2020/02/BeautifyWindowsTerminal/ipython.png" alt="ipython"></p>
<h2 id="é»˜è®¤å¤§å°"><a class="header-anchor" href="#é»˜è®¤å¤§å°"># </a>é»˜è®¤å¤§å°</h2>
<p>åœ¨å…¨å±€ä¸­ï¼ˆä¹Ÿå°±æ˜¯<code>profiles</code>ä¹‹å‰ï¼‰è®¾ç½®<code>initialCols</code>å’Œ<code>initialRows</code>å¯ä»¥è®¾ç½®é»˜è®¤å¤§å°ï¼Œæˆ‘çš„è®¾ç½®ä¸º<code>90</code>å’Œ<code>30</code>ã€‚</p>
<h1 id="åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­å³é”®é€‰æ‹©æ‰“å¼€-Windows-Terminal"><a class="header-anchor" href="#åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­å³é”®é€‰æ‹©æ‰“å¼€-Windows-Terminal"># </a>åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­å³é”®é€‰æ‹©æ‰“å¼€ Windows Terminal</h1>
<p><code>cd</code>å¾ˆéº»çƒ¦ï¼Œæœ‰çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¯ä»¥åƒ<code>Git Bash Here</code>é‚£æ ·ï¼Œåœ¨æ–‡ä»¶å¤¹å†…å³é”®å°±å¯ä»¥æ‰“å¼€ç»ˆç«¯ä½¿ç”¨ï¼Œè¿™ä¸ªé€šè¿‡ä¿®æ”¹æ³¨å†Œè¡¨å°±å¯ä»¥å®Œæˆã€‚<br>
æˆ‘ä»¬å…ˆå°†<code>Profiles.json</code>ä¸­çš„<code>startingDirectory</code>è®¾ç½®æˆ<code>null</code>ã€‚<br>
ç„¶ååˆ›å»ºä¸€ä¸ª<code>.reg</code>çš„æ–‡ä»¶ï¼Œå¡«å†™ä»¥ä¸‹ä»£ç </p>
<pre><code class="language-powershell">Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\Directory\Background\shell\wt]
@=&quot;Windows Terminal Here&quot;
&quot;Icon&quot;=&quot;[YOUR ICON PATH]&quot;

[HKEY_CLASSES_ROOT\Directory\Background\shell\wt\command]
@=&quot;C:\\Users\\[YOURNAME]\\AppData\\Local\\Microsoft\\WindowsApps\\wt.exe&quot;
</code></pre>
<blockquote>
<p>Windows Terminal çš„ Icon å¯ä»¥åœ¨<a href="https://github.com/microsoft/terminal/blob/master/res/terminal.ico" target="_blank" rel="noopener">å®ƒçš„ github</a> ä¸­æ‰¾åˆ°</p>
</blockquote>
<p>ç„¶åè¿è¡Œã€‚æ‰“å¼€æ–‡ä»¶å¤¹ï¼ŒæŒ‰å³é”®</p>
<p><img src="/2020/02/BeautifyWindowsTerminal/here.png" alt="here"></p>
<p>å®Œæˆï¼</p>
]]></content>
      <categories>
        <category>æç‚¹ä»€ä¹ˆä¸œä¸œå§</category>
      </categories>
      <tags>
        <tag>Windows Terminal</tag>
        <tag>é…ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo ä½¿ç”¨ KaTeX æ¸²æŸ“æ•°å­¦å…¬å¼</title>
    <url>/2019/07/HexoKatex/</url>
    <content><![CDATA[<h1 id="è¯´ç‚¹è¯"><a class="header-anchor" href="#è¯´ç‚¹è¯"># </a>_è¯´ç‚¹è¯</h1>
<p>ä¿ç•™äº†Hexoé»˜è®¤çš„Markdownæ¸²æŸ“å™¨<a href="https://github.com/hexojs/hexo-renderer-marked" target="_blank" rel="noopener">hexo-renderer-marked</a>ï¼Œé‡‡ç”¨<a href="https://github.com/hexojs/hexo-math" target="_blank" rel="noopener">hexo-math</a>ä¸­çš„<a href="https://katex.org/" target="_blank" rel="noopener">KaTeX</a>å¼•æ“å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ã€‚</p>
<h1 id="é£Ÿç”¨æ–¹å¼"><a class="header-anchor" href="#é£Ÿç”¨æ–¹å¼"># </a>_é£Ÿç”¨æ–¹å¼</h1>
<h2 id="01-å®‰è£…hexo-math"><a class="header-anchor" href="#01-å®‰è£…hexo-math"># </a>01 å®‰è£…hexo-math</h2>
<pre><code class="language-batch">npm install hexo-math --save
</code></pre>
<h2 id="02-é…ç½®hexo-math"><a class="header-anchor" href="#02-é…ç½®hexo-math"># </a>02 é…ç½®hexo-math</h2>
<p>æ‰“å¼€æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>ï¼Œæ·»åŠ </p>
<pre><code class="language-yaml">plugin:
  - hexo-math
</code></pre>
<pre><code class="language-yaml">math:
  engine: 'katex'
  katex:
    css: https://cdn.bootcss.com/KaTeX/0.7.1/katex.min.css
    js: https://cdn.bootcss.com/KaTeX/0.7.1/katex.min.js
    config:
      # KaTeX config
</code></pre>
<h2 id="03-é‡å¯Hexo"><a class="header-anchor" href="#03-é‡å¯Hexo"># </a>03 é‡å¯Hexo</h2>
<pre><code class="language-bash">hexo clean
hexo generate
hexo server
</code></pre>
<h2 id="04-æ›´æ–°-KaTeX"><a class="header-anchor" href="#04-æ›´æ–°-KaTeX"># </a>04 æ›´æ–° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding="application/x-tex">\KaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">K</span><span class="mspace" style="margin-right:-0.17em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></h2>
<p><strong>æœ¬èŠ‚åœ¨2020/03/01æ›´æ–°</strong>ï¼Œå› ä¸ºæœ‰éƒ¨åˆ†å¼å­è§£æä¸æˆåŠŸï¼Œéœ€è¦æ›´æ–°<br>
è¿›å…¥<code>YOUR_BLOG_PATH\node_modules\hexo-math</code>æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»<code>package.json</code>å¯ä»¥çœ‹åˆ°</p>
<pre><code class="language-json">&quot;dependencies&quot;: {
    &quot;html-entities&quot;: &quot;^1.1.3&quot;,
    &quot;katex&quot;: &quot;^0.6.0&quot;
  },
</code></pre>
<p>è¡¨æ˜å®ƒä¾èµ–çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding="application/x-tex">\KaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">K</span><span class="mspace" style="margin-right:-0.17em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>ç‰ˆæœ¬ä¸º<code>0.6.0</code>ï¼Œè€Œç›®å‰æœ€æ–°çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding="application/x-tex">\KaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">K</span><span class="mspace" style="margin-right:-0.17em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>ç‰ˆæœ¬ä¸º<code>0.11.1</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†<code>0.6.0</code>æ”¹ä¸º<code>0.11.1</code><br>
åŒæ—¶éœ€è¦åœ¨æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>ä¸­æŠŠ<code>css</code>å’Œ<code>js</code>ä¸­çš„ç‰ˆæœ¬æ”¹æˆæœ€æ–°çš„</p>
<pre><code class="language-json">&quot;dependencies&quot;: {
    &quot;html-entities&quot;: &quot;^1.1.3&quot;,
    &quot;katex&quot;: &quot;^0.11.1&quot;
  },
</code></pre>
<pre><code class="language-yaml">math:
  engine: 'katex'
  katex:
    css: https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css
    js: https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js
    config:
      # KaTeX config
</code></pre>
<h1 id="æ³¨æ„äº‹é¡¹"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹"># </a>_æ³¨æ„äº‹é¡¹</h1>
<ul>
<li>csså’Œjsçš„cdnå¿…é¡»è‡ªå®šä¹‰ï¼Œé»˜è®¤ä¸å¯ç”¨</li>
<li><code>$...$</code> å’Œ <code>$$...$$</code> éœ€è¦è¢«æ›¿æ¢æˆ <code>math</code> å—</li>
<li>hexo-mathä¹Ÿå¯ä»¥é‡‡ç”¨MathJaxå¼•æ“ï¼Œä½†é€Ÿåº¦æ…¢ä¸”æ²¡æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding="application/x-tex">\KaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">K</span><span class="mspace" style="margin-right:-0.17em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>å¥½çœ‹</li>
<li>æœ€å¥½å‚è€ƒå®˜æ–¹æ–‡æ¡£é£Ÿç”¨</li>
</ul>
<h1 id="é™„å½•"><a class="header-anchor" href="#é™„å½•"># </a>_é™„å½•</h1>
<p><a href="https://katex.org/docs/supported.html" target="_blank" rel="noopener">KaTeXçš„é£Ÿç”¨æ–‡æ¡£</a></p>
]]></content>
      <categories>
        <category>å»ºç«™ç›¸å…³</category>
      </categories>
      <tags>
        <tag>KaTeX</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ Windows 10 ä¸Šå®‰è£… CUDA 10.0</title>
    <url>/2020/03/InstallCUDA10/</url>
    <content><![CDATA[<p>å› ä¸ºæœ‰<a href="https://docs.nvidia.com/cuda/archive/10.0/cuda-installation-guide-microsoft-windows/index.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>äº†ï¼Œæ‰€ä»¥å°±è®°å½•ä¸€ç‚¹å’Œæ–‡æ¡£ä¸ä¸€æ ·çš„åœ°æ–¹</p>
<h1 id="éªŒè¯å®‰è£…"><a class="header-anchor" href="#éªŒè¯å®‰è£…"># </a>éªŒè¯å®‰è£…</h1>
<p><code>deviceQuery.exe</code>å’Œ<code>bandwidthTest.exe</code>çš„åœ°å€æˆ‘çš„æ˜¯åœ¨<code>NVIDIA GPU Computing Toolkit\CUDA\v10.0\extras\demo_suite</code></p>
<h1 id="åœ¨-Visual-Studio-2019-ä¸­è¿è¡Œ-CUDA-é¡¹ç›®"><a class="header-anchor" href="#åœ¨-Visual-Studio-2019-ä¸­è¿è¡Œ-CUDA-é¡¹ç›®"># </a>åœ¨ Visual Studio 2019 ä¸­è¿è¡Œ CUDA é¡¹ç›®</h1>
<p>å› ä¸ºæ—¶é—´çš„åŸå› ï¼Œåœ¨ CUDA 10.0 å‘å¸ƒçš„æ—¶å€™å¹¶æ²¡æœ‰ Visual Studio 2019 è¿™ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥å®ƒç»™çš„ç¤ºä¾‹å·¥ç¨‹åªåˆ°äº† Visual Studio 2017 ç‰ˆæœ¬ï¼Œç›´æ¥è¿è¡Œä¼šæŠ¥é”™ï¼Œæç¤ºæ‰¾ä¸åˆ°<code>CUDA 10.0.props</code>è¿™ä¸ªæ–‡ä»¶<br>
ç»è¿‡ä¸€é˜µæŸ¥æ‰¾ï¼Œæˆ‘æ‰¾åˆ°äº†å®ƒåœ¨<code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0\extras\visual_studio_integration\MSBuildExtensions</code>ï¼Œå°½ç®¡æˆ‘çš„<code>CUDA</code>å®‰è£…åœ¨äº†Dç›˜<br>
è¿™æ—¶å€™æˆ‘ä»¬åªéœ€è¦å°†<code>CUDA 10.0.props</code>ä»¥åŠå’Œå®ƒåœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶å¤åˆ¶åˆ°æŠ¥é”™çš„é‚£ä¸ªæ–‡ä»¶å¤¹é‡Œå°±è¡Œäº†<br>
ç°åœ¨å¯ä»¥æ‰“å¼€è§£å†³æ–¹æ¡ˆäº†ï¼Œä¼šæç¤º<code>è‹¥è¦ä½¿ç”¨ Visual Studio 2019 (v142) ç”Ÿæˆå·¥å…·è¿›è¡Œç”Ÿæˆï¼Œè¯·å•å‡»&quot;é¡¹ç›®&quot;èœå•æˆ–å³é”®å•å‡»è§£å†³æ–¹æ¡ˆï¼Œç„¶åé€‰æ‹©&quot;é‡å®šå‘è§£å†³æ–¹æ¡ˆ...&quot;ã€‚å®‰è£… Visual Studio 2017 (v141) å¯ä½¿ç”¨ Visual Studio 2017 (v141) ç”Ÿæˆå·¥å…·è¿›è¡Œç”Ÿæˆã€‚</code><br>
å¦‚æœæˆ‘ä»¬ä½¿ç”¨ Visual Studio 2019 (v142) è¿›è¡Œç”Ÿæˆï¼Œä¼šæŠ¥é”™<code>#error:  -- unsupported Microsoft Visual Studio version! Only the versions between 2013 and 2017 (inclusive) are supported!</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥å®‰è£… Visual Studio 2017 (v141)ï¼Œç„¶ååœ¨å±æ€§é›†ä¸­æŠŠ<strong>å¹³å°å·¥å…·é›†</strong>ä¿®æ”¹ä¸º Visual Studio 2017 (v141)</p>
<h1 id="OpenGL-çš„å®‰è£…"><a class="header-anchor" href="#OpenGL-çš„å®‰è£…"># </a>OpenGL çš„å®‰è£…</h1>
<p>åœ¨ç¿» CUDA çš„æ–‡ä»¶å¤¹çš„æ—¶å€™å‘ç°äº† freeglut å’Œ glewï¼Œé‚£å°±é¡ºä¾¿å®‰è£…ä¸€ä¸‹ OpenGL å¥½äº†ã€‚æˆ‘çš„ C++ IDE æ˜¯ JetBrains çš„ CLionï¼Œé‡‡ç”¨ MinGW-w64 ç¯å¢ƒ<br>
é¦–å…ˆå…ˆæ‰¾åˆ° freeglut å’Œ glew çš„ <code>.h</code> <code>.lib</code> <code>.dll</code> çš„ä½ç½®<br>
æˆ‘çš„<code>.h</code>æ–‡ä»¶åœ¨<code>NVIDIA GPU Computing Toolkit/CUDA Samples/v10.0/common/inc/GL</code>ï¼Œ<code>.lib</code>æ–‡ä»¶åœ¨<code>NVIDIA GPU Computing Toolkit\CUDA Samples\v10.0\common\lib\x64</code>ï¼Œ<code>.dll</code>åœ¨<code>NVIDIA GPU Computing Toolkit\CUDA Samples\v10.0\bin\win64\Release</code>å’Œ<code>NVIDIA GPU Computing Toolkit\CUDA\v10.0\extras\demo_suite</code>ä¸‹éƒ½æœ‰ï¼Œä½†å®ƒä»¬å¤§å°æ˜¯ä¸€æ ·çš„ï¼Œéšä¾¿é€‰æ‹©å°±è¡Œäº†<br>
æŠŠ<code>.dll</code>ç§»åŠ¨åˆ°<code>C:\Windows\System32</code>å’Œ<code>C:\Windows\SysWOW64</code>ä¸‹<br>
å› ä¸º<code>NVIDIA GPU Computing Toolkit</code>è·¯å¾„ä¸­å«æœ‰ç©ºæ ¼ï¼Œåœ¨ CMakeLists.txt ä¸­<code>link_directories</code>å’Œ<code>include_directories</code>å¼•å…¥æ—¶éœ€è¦å°†ç©ºæ ¼è½¬ä¹‰<code>\ </code></p>
<pre><code class="language-cmake">link_directories(D:/Program/NVIDIA\ GPU\ Computing\ Toolkit/CUDA\ Samples/v10.0/common/lib/x64)
include_directories(D:/Program/NVIDIA\ GPU\ Computing\ Toolkit/CUDA/v10.0/extras/CUPTI/include)
include_directories(D:/Program/NVIDIA\ GPU\ Computing\ Toolkit/CUDA\ Samples/v10.0/common/inc)
</code></pre>
<p>ç„¶åæ·»åŠ éœ€è¦ç¼–è¯‘çš„ cppï¼Œå¹¶å’Œ<code>.lib</code>é“¾æ¥èµ·æ¥</p>
<pre><code class="language-cmake">add_executable(YOUR_PROJECT_NAME main.cpp)
target_link_libraries(YOUR_PROJECT_NAME -lopengl32 -lglu32 freeglut.lib glew64.lib)
</code></pre>
<blockquote>
<p>è¿™é‡Œçš„<code>opengl32</code>å’Œ<code>glu32</code>æ˜¯å¿…è¦çš„ï¼Œä¸ç„¶ä¼šæŠ¥é”™</p>
</blockquote>
<p>è¿è¡Œåï¼Œæˆ‘çš„ç¨‹åºå‡ºç°äº†æŠ¥é”™ï¼Œ<code>#include&lt;GL/gl.h&gt;</code>å‡ºé”™äº†ï¼Œå› ä¸ºæœ‰<code>freeglut.h</code>çš„æ–‡ä»¶å¤¹ä¸­å¹¶æ²¡æœ‰<code>gl.h</code>å’Œ<code>glu.h</code>ï¼Œæˆ‘åœ¨<code>NVIDIA GPU Computing Toolkit\CUDA\v10.0\extras\CUPTI\include\GL</code>ä¸­æ‰¾åˆ°äº†è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå°†ä»–ä»¬ç§»åŠ¨åˆ°äº†<code>D:\Tool\mingw64\include\GL</code>ä¸­ï¼Œå†æ¬¡è¿è¡Œå°±æ²¡æœ‰æŠ¥é”™äº†<br>
é™„ä¸Šä¸€ä¸ªæµ‹è¯•ç¨‹åºï¼Œè¿™ä¸ªæ˜¯æˆ‘ä¸Šè®¡ç®—æœºå›¾å½¢å­¦æ—¶é… OpenGL è‡ªåŠ¨ç”Ÿæˆçš„ç¤ºä¾‹ç¨‹åº</p>
<pre><code class="language-cpp">/*
 * GLUT Shapes Demo
 *
 * Written by Nigel Stewart November 2003
 *
 * This program is test harness for the sphere, cone
 * and torus shapes in GLUT.
 *
 * Spinning wireframe and smooth shaded shapes are
 * displayed until the ESC or q key is pressed.  The
 * number of geometry stacks and slices can be adjusted
 * using the + and - keys.
 */

/* è¿™é‡Œä½¿ç”¨freeglut.hï¼Œè€Œä¸æ˜¯glut.h */
#include &lt;GL/freeglut.h&gt;

#include &lt;stdlib.h&gt;

static int slices = 16;
static int stacks = 16;

/* GLUT callback Handlers */

static void resize(int width, int height)
{
    const float ar = (float) width / (float) height;

    glViewport(0, 0, width, height);
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glFrustum(-ar, ar, -1.0, 1.0, 2.0, 100.0);

    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity() ;
}

static void display(void)
{
    const double t = glutGet(GLUT_ELAPSED_TIME) / 1000.0;
    const double a = t*90.0;

    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
    glColor3d(1,0,0);

    glPushMatrix();
        glTranslated(-2.4,1.2,-6);
        glRotated(60,1,0,0);
        glRotated(a,0,0,1);
        glutSolidSphere(1,slices,stacks);
    glPopMatrix();

    glPushMatrix();
        glTranslated(0,1.2,-6);
        glRotated(60,1,0,0);
        glRotated(a,0,0,1);
        glutSolidCone(1,1,slices,stacks);
    glPopMatrix();

    glPushMatrix();
        glTranslated(2.4,1.2,-6);
        glRotated(60,1,0,0);
        glRotated(a,0,0,1);
        glutSolidTorus(0.2,0.8,slices,stacks);
    glPopMatrix();

    glPushMatrix();
        glTranslated(-2.4,-1.2,-6);
        glRotated(60,1,0,0);
        glRotated(a,0,0,1);
        glutWireSphere(1,slices,stacks);
    glPopMatrix();

    glPushMatrix();
        glTranslated(0,-1.2,-6);
        glRotated(60,1,0,0);
        glRotated(a,0,0,1);
        glutWireCone(1,1,slices,stacks);
    glPopMatrix();

    glPushMatrix();
        glTranslated(2.4,-1.2,-6);
        glRotated(60,1,0,0);
        glRotated(a,0,0,1);
        glutWireTorus(0.2,0.8,slices,stacks);
    glPopMatrix();

    glutSwapBuffers();
}


static void key(unsigned char key, int x, int y)
{
    switch (key)
    {
        case 27 :
        case 'q':
            exit(0);
            break;

        case '+':
            slices++;
            stacks++;
            break;

        case '-':
            if (slices&gt;3 &amp;&amp; stacks&gt;3)
            {
                slices--;
                stacks--;
            }
            break;
    }

    glutPostRedisplay();
}

static void idle(void)
{
    glutPostRedisplay();
}

const GLfloat light_ambient[]  = { 0.0f, 0.0f, 0.0f, 1.0f };
const GLfloat light_diffuse[]  = { 1.0f, 1.0f, 1.0f, 1.0f };
const GLfloat light_specular[] = { 1.0f, 1.0f, 1.0f, 1.0f };
const GLfloat light_position[] = { 2.0f, 5.0f, 5.0f, 0.0f };

const GLfloat mat_ambient[]    = { 0.7f, 0.7f, 0.7f, 1.0f };
const GLfloat mat_diffuse[]    = { 0.8f, 0.8f, 0.8f, 1.0f };
const GLfloat mat_specular[]   = { 1.0f, 1.0f, 1.0f, 1.0f };
const GLfloat high_shininess[] = { 100.0f };

/* Program entry point */

int main(int argc, char *argv[])
{
    glutInit(&amp;argc, argv);
    glutInitWindowSize(640,480);
    glutInitWindowPosition(10,10);
    glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE | GLUT_DEPTH);

    glutCreateWindow(&quot;GLUT Shapes&quot;);

    glutReshapeFunc(resize);
    glutDisplayFunc(display);
    glutKeyboardFunc(key);
    glutIdleFunc(idle);

    glClearColor(1,1,1,1);
    glEnable(GL_CULL_FACE);
    glCullFace(GL_BACK);

    glEnable(GL_DEPTH_TEST);
    glDepthFunc(GL_LESS);

    glEnable(GL_LIGHT0);
    glEnable(GL_NORMALIZE);
    glEnable(GL_COLOR_MATERIAL);
    glEnable(GL_LIGHTING);

    glLightfv(GL_LIGHT0, GL_AMBIENT,  light_ambient);
    glLightfv(GL_LIGHT0, GL_DIFFUSE,  light_diffuse);
    glLightfv(GL_LIGHT0, GL_SPECULAR, light_specular);
    glLightfv(GL_LIGHT0, GL_POSITION, light_position);

    glMaterialfv(GL_FRONT, GL_AMBIENT,   mat_ambient);
    glMaterialfv(GL_FRONT, GL_DIFFUSE,   mat_diffuse);
    glMaterialfv(GL_FRONT, GL_SPECULAR,  mat_specular);
    glMaterialfv(GL_FRONT, GL_SHININESS, high_shininess);

    glutMainLoop();

    return EXIT_SUCCESS;
}
</code></pre>
]]></content>
      <categories>
        <category>æ²¡æœ‰å®˜æ–¹æ–‡æ¡£é‡è¦çš„æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>CUDA 10.0</tag>
        <tag>nVidia</tag>
        <tag>Windows 10</tag>
        <tag>OpenGL</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŒLeetCodeã€å¤šçº¿ç¨‹</title>
    <url>/2020/03/LeetcodeMultithreading/</url>
    <content><![CDATA[<p><em>ä¸å«ç»å…¸ä¼šå‘˜æ‰èƒ½åšçš„é¢˜</em></p>
<h1 id="1114-æŒ‰åºæ‰“å°"><a class="header-anchor" href="#1114-æŒ‰åºæ‰“å°"># </a>1114 æŒ‰åºæ‰“å°</h1>
<p><a href="https://leetcode-cn.com/problems/print-in-order/" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">æ‰§è¡Œç”¨æ—¶</th>
<th style="text-align:center">å†…å­˜æ¶ˆè€—</th>
<th style="text-align:center">æäº¤æ—¶é—´</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>packaged_task</code></td>
<td style="text-align:center">56 ms</td>
<td style="text-align:center">7.2 MB</td>
<td style="text-align:center">2022/03/22 22:49</td>
</tr>
<tr>
<td style="text-align:center"><code>future promise</code></td>
<td style="text-align:center">76 ms</td>
<td style="text-align:center">7.2 MB</td>
<td style="text-align:center">2022/03/22 22:31</td>
</tr>
<tr>
<td style="text-align:center"><code>condition_variable</code></td>
<td style="text-align:center">84 ms</td>
<td style="text-align:center">6.9 MB</td>
<td style="text-align:center">2022/03/22 22:14</td>
</tr>
<tr>
<td style="text-align:center"><code>semaphore.h (Linux)</code></td>
<td style="text-align:center">144 ms</td>
<td style="text-align:center">8.2 MB</td>
<td style="text-align:center">2020/03/20 13:57</td>
</tr>
<tr>
<td style="text-align:center"><code>semaphore (C++20)</code></td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center"><code>mutex</code></td>
<td style="text-align:center">124 ms</td>
<td style="text-align:center">8.3 MB</td>
<td style="text-align:center">2020/03/20 23:24</td>
</tr>
<tr>
<td style="text-align:center"><code>lock_guard&lt;mutex&gt;</code></td>
<td style="text-align:center">160 ms</td>
<td style="text-align:center">8.2 MB</td>
<td style="text-align:center">2020/03/20 23:32</td>
</tr>
<tr>
<td style="text-align:center"><code>atomic_flag</code></td>
<td style="text-align:center">1516 ms</td>
<td style="text-align:center">7.1 MB</td>
<td style="text-align:center">2023/03/23 00:05</td>
</tr>
</tbody>
</table>
<h2 id="ä»»åŠ¡-C-11"><a class="header-anchor" href="#ä»»åŠ¡-C-11"># </a>ä»»åŠ¡ (C++ 11)</h2>
<h3 id="packaged-task"><a class="header-anchor" href="#packaged-task"># </a>packaged_task</h3>
<pre><code class="language-cpp">class Foo {
    using TASK_TYPE = void();
    function&lt;TASK_TYPE&gt; task = [](){};
    packaged_task&lt;TASK_TYPE&gt; pt1{task}, pt2{task};
public:
    Foo() {
        
    }

    void first(function&lt;void()&gt; printFirst) {
        
        // printFirst() outputs &quot;first&quot;. Do not change or remove this line.
        printFirst();
        pt1();
    }

    void second(function&lt;void()&gt; printSecond) {
        future&lt;void&gt; f{pt1.get_future()};
        f.get();
        // printSecond() outputs &quot;second&quot;. Do not change or remove this line.
        printSecond();
        pt2();
    }

    void third(function&lt;void()&gt; printThird) {
        future&lt;void&gt; f{pt2.get_future()};
        f.get();
        // printThird() outputs &quot;third&quot;. Do not change or remove this line.
        printThird();
    }
};
</code></pre>
<h3 id="future-å’Œ-promise"><a class="header-anchor" href="#future-å’Œ-promise"># </a>future å’Œ promise</h3>
<pre><code class="language-cpp">class Foo {
    promise&lt;bool&gt; p1, p2;
public:
    Foo() {
        
    }

    void first(function&lt;void()&gt; printFirst) {
        
        // printFirst() outputs &quot;first&quot;. Do not change or remove this line.
        printFirst();
        p1.set_value(true);
    }

    void second(function&lt;void()&gt; printSecond) {
        future&lt;bool&gt; f{p1.get_future()};
        f.wait();
        // printSecond() outputs &quot;second&quot;. Do not change or remove this line.
        printSecond();
        p2.set_value(true);
    }

    void third(function&lt;void()&gt; printThird) {
        future&lt;bool&gt; f{p2.get_future()};
        f.wait();
        // printThird() outputs &quot;third&quot;. Do not change or remove this line.
        printThird();
    }
};
</code></pre>
<h2 id="æ¡ä»¶å˜é‡-C-11"><a class="header-anchor" href="#æ¡ä»¶å˜é‡-C-11"># </a>æ¡ä»¶å˜é‡ (C++ 11)</h2>
<pre><code class="language-cpp">class Foo {
    mutex m1, m2;
    condition_variable cv1, cv2;
    int cur;
public:
    Foo() {
        cur = 0;
    }

    void first(function&lt;void()&gt; printFirst) {
        
        // printFirst() outputs &quot;first&quot;. Do not change or remove this line.
        printFirst();
        cur = 1;
        cv1.notify_one();
    }

    void second(function&lt;void()&gt; printSecond) {
        unique_lock&lt;mutex&gt; lock{m1};
        cv1.wait(lock, [this](){return cur == 1;});
        // printSecond() outputs &quot;second&quot;. Do not change or remove this line.
        printSecond();
        lock.unlock();
        cur = 2;
        cv2.notify_one();
    }

    void third(function&lt;void()&gt; printThird) {
        unique_lock&lt;mutex&gt; lock{m2};
        cv2.wait(lock, [this](){return cur == 2;});
        // printThird() outputs &quot;third&quot;. Do not change or remove this line.
        printThird();
        lock.unlock();
        cur = 3;
    }
};
</code></pre>
<h2 id="ä¿¡å·é‡"><a class="header-anchor" href="#ä¿¡å·é‡"># </a>ä¿¡å·é‡</h2>
<h3 id="semaphore-h-Linux"><a class="header-anchor" href="#semaphore-h-Linux"># </a>semaphore.h (Linux)</h3>
<pre><code class="language-cpp">#include &lt;semaphore.h&gt;
class Foo {
private:
    sem_t s1,s2;

public:
    Foo() {
        sem_init(&amp;s1,0,0);
        sem_init(&amp;s2,0,0);
    }

    void first(function&lt;void()&gt; printFirst) { 
        // printFirst() outputs &quot;first&quot;. Do not change or remove this line.
        printFirst();
        sem_post(&amp;s1);
    }

    void second(function&lt;void()&gt; printSecond) {
        sem_wait(&amp;s1);
        // printSecond() outputs &quot;second&quot;. Do not change or remove this line.
        printSecond();
        sem_post(&amp;s2);
    }

    void third(function&lt;void()&gt; printThird) {
        sem_wait(&amp;s2);
        // printThird() outputs &quot;third&quot;. Do not change or remove this line.
        printThird();
    }
};
</code></pre>
<h3 id="semaphore-C-20-LeetCode-ä¸æ”¯æŒ"><a class="header-anchor" href="#semaphore-C-20-LeetCode-ä¸æ”¯æŒ"># </a>semaphore (C++ 20) LeetCode ä¸æ”¯æŒ</h3>
<pre><code class="language-cpp">#include &lt;functional&gt;
#include &lt;iostream&gt;
#include &lt;semaphore&gt;
#include &lt;thread&gt;
#include &lt;vector&gt;

using namespace std;

class Foo {
    binary_semaphore s1{0}, s2{0};

   public:
    Foo() {}

    void first(function&lt;void()&gt; printFirst) {
        // printFirst() outputs &quot;first&quot;. Do not change or remove this line.
        printFirst();
        s1.release();
    }

    void second(function&lt;void()&gt; printSecond) {
        s1.acquire();
        // printSecond() outputs &quot;second&quot;. Do not change or remove this line.
        printSecond();
        s2.release();
    }

    void third(function&lt;void()&gt; printThird) {
        s2.acquire();
        // printThird() outputs &quot;third&quot;. Do not change or remove this line.
        printThird();
    }
};

int main() {
    vector&lt;int&gt; order{3, 2, 1};
    vector&lt;thread&gt; pool;
    Foo foo = Foo();
    for (int i : order) {
        if (i == 1)
            pool.emplace_back(&amp;Foo::first, &amp;foo, []() {
                cout &lt;&lt; &quot;first&quot;;
            });  // ä¸æˆå‘˜å‡½æ•°ç»‘å®šéœ€è¦ç”¨
                 // &amp;ç±»å::æˆå‘˜å‡½æ•°åï¼Œå†ä¼ é€’å¯¹è±¡ï¼Œå†ä¼ é€’å‚æ•°
        else if (i == 2)
            pool.emplace_back(&amp;Foo::second, &amp;foo, []() { cout &lt;&lt; &quot;second&quot;; });
        else if (i == 3)
            pool.emplace_back(&amp;Foo::third, &amp;foo, []() { cout &lt;&lt; &quot;third&quot;; });
    }
    for (thread &amp;t : pool) {
        t.join();
    }
}
</code></pre>
<h2 id="äº’æ–¥ä¿¡å·é‡-C-11"><a class="header-anchor" href="#äº’æ–¥ä¿¡å·é‡-C-11"># </a>äº’æ–¥ä¿¡å·é‡ (C++ 11)</h2>
<h3 id="mutex"><a class="header-anchor" href="#mutex"># </a>mutex</h3>
<pre><code class="language-cpp">class Foo {
private:
    mutex m1, m2;

public:
    Foo() {
        m1.lock();
        m2.lock();
    }

    void first(function&lt;void()&gt; printFirst) {
        // printFirst() outputs &quot;first&quot;. Do not change or remove this line.
        printFirst();
        m1.unlock();
    }

    void second(function&lt;void()&gt; printSecond) {
        m1.lock();
        // printSecond() outputs &quot;second&quot;. Do not change or remove this line.
        printSecond();
        m2.unlock();
    }

    void third(function&lt;void()&gt; printThird) {
        m2.lock();
        // printThird() outputs &quot;third&quot;. Do not change or remove this line.
        printThird();
    }
};
</code></pre>
<h3 id="lock-guard-mutex"><a class="header-anchor" href="#lock-guard-mutex"># </a>lock_guard&lt;mutex&gt;</h3>
<pre><code class="language-cpp">#include &lt;mutex&gt;
class Foo {
private:
    mutex m1, m2;

public:
    Foo() {
        m1.lock();
        m2.lock();
    }

    void first(function&lt;void()&gt; printFirst) {
        // printFirst() outputs &quot;first&quot;. Do not change or remove this line.
        printFirst();
        m1.unlock();
    }

    void second(function&lt;void()&gt; printSecond) {
        lock_guard&lt;mutex&gt; lk(m1);
        // printSecond() outputs &quot;second&quot;. Do not change or remove this line.
        printSecond();
        m2.unlock();
    }

    void third(function&lt;void()&gt; printThird) {
        lock_guard&lt;mutex&gt; lk(m2);
        // printThird() outputs &quot;third&quot;. Do not change or remove this line.
        printThird();
    }
};
</code></pre>
<h2 id="åŸå­-C-11"><a class="header-anchor" href="#åŸå­-C-11"># </a>åŸå­ (C++ 11)</h2>
<h3 id="atomic-flag"><a class="header-anchor" href="#atomic-flag"># </a>atomic_flag</h3>
<pre><code class="language-cpp">class Foo {
    atomic_flag f1, f2;
public:
    Foo() {
        f1.test_and_set(memory_order_acquire);
        f2.test_and_set(memory_order_acquire);
    }

    void first(function&lt;void()&gt; printFirst) {
        
        // printFirst() outputs &quot;first&quot;. Do not change or remove this line.
        printFirst();
        f1.clear(memory_order_release);
    }

    void second(function&lt;void()&gt; printSecond) {
        while (f1.test_and_set(memory_order_acquire));
        // printSecond() outputs &quot;second&quot;. Do not change or remove this line.
        printSecond();
        f2.clear(memory_order_release);
    }

    void third(function&lt;void()&gt; printThird) {
        while (f2.test_and_set(memory_order_acquire));
        // printThird() outputs &quot;third&quot;. Do not change or remove this line.
        printThird();
    }
};
</code></pre>
<h1 id="1115-Bar"><a class="header-anchor" href="#1115-Bar"># </a>1115 Bar</h1>
<p><a href="https://leetcode-cn.com/problems/print-foobar-alternately/" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<pre><code class="language-cpp">class FooBar {
private:
    int n;
    mutex m1,m2;

public:
    FooBar(int n) {
        this-&gt;n = n;
        m1.lock();
        m2.unlock();
    }

    void foo(function&lt;void()&gt; printFoo) {
        for (int i = 0; i &lt; n; i++) {
            m2.lock();
            // printFoo() outputs &quot;foo&quot;. Do not change or remove this line.
            printFoo();
            m1.unlock();
        }
    }

    void bar(function&lt;void()&gt; printBar) {
        for (int i = 0; i &lt; n; i++) {
            m1.lock();
            // printBar() outputs &quot;bar&quot;. Do not change or remove this line.
            printBar();
            m2.unlock();
        }
    }
};
</code></pre>
<h1 id="1116-æ‰“å°é›¶ä¸å¥‡å¶æ•°"><a class="header-anchor" href="#1116-æ‰“å°é›¶ä¸å¥‡å¶æ•°"># </a>1116 æ‰“å°é›¶ä¸å¥‡å¶æ•°</h1>
<p><a href="https://leetcode-cn.com/problems/print-zero-even-odd/" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<pre><code class="language-cpp">class ZeroEvenOdd {
private:
    int n;
    mutex z,e,o;

public:
    ZeroEvenOdd(int n) {
        this-&gt;n = n;
        z.unlock();
        e.lock();
        o.lock();
    }

    // printNumber(x) outputs &quot;x&quot;, where x is an integer.
    void zero(function&lt;void(int)&gt; printNumber) {
        for(int i=1;i&lt;=n;i++){
            z.lock();
            printNumber(0);
            if(i%2)o.unlock();
            else e.unlock();
        }
    }

    void even(function&lt;void(int)&gt; printNumber) {
        for(int i=2;i&lt;=n;i+=2){
            e.lock();
            printNumber(i);
            z.unlock();
        }
    }

    void odd(function&lt;void(int)&gt; printNumber) {
        for(int i=1;i&lt;=n;i+=2){
            o.lock();
            printNumber(i);
            z.unlock();
        }
    }
};
</code></pre>
<h1 id="1117-H2O-ç”Ÿæˆ"><a class="header-anchor" href="#1117-H2O-ç”Ÿæˆ"># </a>1117 H2O ç”Ÿæˆ</h1>
<p><a href="https://leetcode-cn.com/problems/building-h2o/" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<pre><code class="language-cpp">#include &lt;semaphore.h&gt;
class H2O {
private:
    sem_t h,o;
    int cnt;

public:
    H2O() {
        sem_init(&amp;h, 0, 2);
        sem_init(&amp;o, 0, 1);
        cnt=0;
    }

    void hydrogen(function&lt;void()&gt; releaseHydrogen) {
        sem_wait(&amp;h);
        // releaseHydrogen() outputs &quot;H&quot;. Do not change or remove this line.
        releaseHydrogen();
        cnt++;
        if(cnt==2){
            sem_post(&amp;o);
            cnt=0;
        }
    }

    void oxygen(function&lt;void()&gt; releaseOxygen) {
        sem_wait(&amp;o);
        // releaseOxygen() outputs &quot;O&quot;. Do not change or remove this line.
        releaseOxygen();
        sem_post(&amp;h);
        sem_post(&amp;h);
    }
};
</code></pre>
<h1 id="1195-äº¤æ›¿æ‰“å°å­—ç¬¦ä¸²"><a class="header-anchor" href="#1195-äº¤æ›¿æ‰“å°å­—ç¬¦ä¸²"># </a>1195 äº¤æ›¿æ‰“å°å­—ç¬¦ä¸²</h1>
<p><a href="https://leetcode-cn.com/problems/fizz-buzz-multithreaded/" target="_blank" rel="noopener">ä¼ é€é—¨</a></p>
<pre><code class="language-cpp">class FizzBuzz {
private:
    int n;
    mutex f,b,fb,num;

public:
    FizzBuzz(int n) {
        this-&gt;n = n;
        f.lock();
        b.lock();
        fb.lock();
    }

    // printFizz() outputs &quot;fizz&quot;.
    void fizz(function&lt;void()&gt; printFizz) {
        for(int i=3;i&lt;=n;i+=3){
            if(i%5==0)continue;
            f.lock();
            printFizz();
            num.unlock();
        }
    }

    // printBuzz() outputs &quot;buzz&quot;.
    void buzz(function&lt;void()&gt; printBuzz) {
        for(int i=5;i&lt;=n;i+=5){
            if(i%3==0)continue;
            b.lock();
            printBuzz();
            num.unlock();
        }
    }

    // printFizzBuzz() outputs &quot;fizzbuzz&quot;.
    void fizzbuzz(function&lt;void()&gt; printFizzBuzz) {
        for(int i=15;i&lt;=n;i+=15){
            fb.lock();
            printFizzBuzz();
            num.unlock();
        }
    }

    // printNumber(x) outputs &quot;x&quot;, where x is an integer.
    void number(function&lt;void(int)&gt; printNumber) {
        for(int i=1;i&lt;=n;i++){
            num.lock();
            if(i%3==0&amp;&amp;i%5==0)fb.unlock();
            else if(i%3==0)f.unlock();
            else if(i%5==0)b.unlock();
            else {
                printNumber(i);
                num.unlock();
            }
        }
    }
};
</code></pre>
<h1 id="1226-å“²å­¦å®¶è¿›é¤"><a class="header-anchor" href="#1226-å“²å­¦å®¶è¿›é¤"># </a>1226 å“²å­¦å®¶è¿›é¤</h1>
<p><a href="https://leetcode-cn.com/problems/the-dining-philosophers/" target="_blank" rel="noopener">ä¼ é€é—¨</a><br>
æ“ä½œç³»ç»Ÿä¹¦ä¸Šçš„ä¾‹å­<br>
ç”¨ä¸€ä¸ªä¿¡å·é‡è¡¨ç¤ºä¸€åªå‰å­ï¼Œç”±è¿™äº”ä¸ªä¿¡å·é‡æ„æˆä¿¡å·é‡æ•°ç»„</p>
<pre><code class="language-cpp">class DiningPhilosophers {
private:
    mutex fork[5];
public:
    DiningPhilosophers() {
        
    }

    void wantsToEat(int philosopher,
                    function&lt;void()&gt; pickLeftFork,
                    function&lt;void()&gt; pickRightFork,
                    function&lt;void()&gt; eat,
                    function&lt;void()&gt; putLeftFork,
                    function&lt;void()&gt; putRightFork) {
        fork[philosopher].lock();
        pickLeftFork();
        fork[(philosopher+1)%5].lock();
        pickRightFork();
        eat();
        putLeftFork();
        fork[philosopher].unlock();
        putRightFork();
        fork[(philosopher+1)%5].unlock();
    }
};
</code></pre>
<p>è™½ç„¶é€šè¿‡æäº¤äº†ï¼Œä½†æ˜¯å­˜åœ¨ç¼ºé™·ï¼Œå¯èƒ½ä¼šé€ æˆ<strong>æ­»é”</strong>ã€‚å‡å¦‚äº”ä½å“²å­¦å®¶åŒæ—¶é¥¥é¥¿è€Œå„è‡ªæ‹¿èµ·å·¦è¾¹çš„å‰å­æ—¶ï¼Œå°±ä¼šä½¿äº”ä¸ªäº’æ–¥ä¿¡å·é‡å‡è¢«é”ä½ï¼Œå½“ä»–ä»¬å†è¯•å›¾å»æ‹¿å³è¾¹çš„å‰å­æ—¶ï¼Œéƒ½å°†å› æ— å‰å­å¯æ‹¿è€Œæ— é™æœŸåœ°ç­‰å¾…ã€‚<br>
æ€»å…±æœ‰<strong>ä¸‰ç§</strong>è§£å†³æ–¹æ³•ï¼š</p>
<h2 id="æœ€å¤šå¯å…è®¸å››ä½å“²å­¦å®¶åŒæ—¶è¿›é¤"><a class="header-anchor" href="#æœ€å¤šå¯å…è®¸å››ä½å“²å­¦å®¶åŒæ—¶è¿›é¤"># </a>æœ€å¤šå¯å…è®¸å››ä½å“²å­¦å®¶åŒæ—¶è¿›é¤</h2>
<p>è‡³å¤šåªå…è®¸æœ‰å››ä½å“²å­¦å®¶åŒæ—¶å»æ‹¿å·¦è¾¹çš„å‰å­ï¼Œæœ€ç»ˆèƒ½ä¿è¯è‡³å°‘æœ‰ä¸€ä½å“²å­¦å®¶èƒ½å¤Ÿè¿›é¤ï¼Œå¹¶åœ¨ç”¨æ¯•æ—¶èƒ½é‡Šæ”¾å‡ºä»–ç”¨è¿‡çš„ä¸¤åªå‰å­ï¼Œä»è€Œä½¿æ›´å¤šçš„å“²å­¦å®¶èƒ½å¤Ÿè¿›é¤ã€‚</p>
<pre><code class="language-cpp">#include &lt;semaphore.h&gt;
class DiningPhilosophers {
private:
    sem_t s,fork[5];
public:
    DiningPhilosophers() {
        // æœ€å¤šåªå…è®¸4ä½åŒæ—¶è¿›é¤
        sem_init(&amp;s,0,4);
        // å‰å­çš„ä¿¡å·é‡
        for(int i=0;i&lt;5;i++){
            sem_init(&amp;fork[i],0,1);
        }
    }

    void wantsToEat(int philosopher,
                    function&lt;void()&gt; pickLeftFork,
                    function&lt;void()&gt; pickRightFork,
                    function&lt;void()&gt; eat,
                    function&lt;void()&gt; putLeftFork,
                    function&lt;void()&gt; putRightFork) {
        int l=philosopher,r=(philosopher+1)%5;
        sem_wait(&amp;s);
        sem_wait(&amp;fork[l]);
        pickLeftFork();
        sem_wait(&amp;fork[r]);
        pickRightFork();
        eat();
        putLeftFork();
        sem_post(&amp;fork[l]);
        putRightFork();
        sem_post(&amp;fork[r]);
        sem_post(&amp;s);
    }
};
</code></pre>
<blockquote>
<p>æ‰§è¡Œç”¨æ—¶ï¼š224 ms<br>
å†…å­˜æ¶ˆè€—ï¼š13.2 MB</p>
</blockquote>
<h2 id="åŒæ—¶æ‹¿å·¦å³ä¸¤åªå‰å­"><a class="header-anchor" href="#åŒæ—¶æ‹¿å·¦å³ä¸¤åªå‰å­"># </a>åŒæ—¶æ‹¿å·¦å³ä¸¤åªå‰å­</h2>
<p>ä»…å½“å“²å­¦å®¶çš„å·¦ã€å³ä¸¤åªå‰å­å‡å¯ç”¨æ—¶ï¼Œæ‰å…è®¸ä»–æ‹¿èµ·å‰å­è¿›é¤ã€‚éœ€è¦ä½¿ç”¨ä¿¡å·é‡é›†ï¼ˆANDå‹ä¿¡å·é‡ï¼‰ã€‚<br>
è¯´å®è¯æˆ‘ä¸çŸ¥é“è¿™ä¸ªANDå‹ä¿¡å·é‡è¦æ€ä¹ˆåŒæ—¶æ‹¿å‰å­ï¼Œä¹¦ä¸Šå†™çš„Sswaitä¹Ÿæ˜¯ä¸€ä¸ªforå¾ªç¯æŒ‰é¡ºåºæ§åˆ¶ï¼Œå¦‚æœåŒæ—¶å¤„ç†Sswaitçš„è¯æ„Ÿè§‰è¿˜æ˜¯è§£å†³ä¸äº†äº”äººåŒæ—¶ç›¸åƒé¥­çš„é—®é¢˜ï¼ˆå› ä¸ºå·¦å³ä¸¤ä¸ªå‰å­çš„ä¿¡å·é‡éƒ½æ˜¯1ï¼ŒåŒæ—¶æ‹¿çš„æ“ä½œå…¶å®è¿˜æ˜¯æŒ‰é¡ºåºçš„ï¼Œå…ˆæ‹¿å·¦å†æ‹¿å³ï¼Œå¦‚æœäº”ä¸ªäººå·¦è¾¹éƒ½æ‹¿äº†ï¼Œé‚£ä¹ˆå³è¾¹å°±éƒ½æ­»é”äº†ï¼‰ã€‚<br>
æ‰€ä»¥æˆ‘å¤šè®¾ç½®äº†ä¸€ä¸ªä¿¡å·é‡ï¼Œå½“ä¸¤åªå‰å­éƒ½è¢«æ‹¿èµ·çš„æ—¶å€™ï¼Œåªèƒ½å…è®¸æœ€å¤š<strong>ä¸¤ä¸ªäºº</strong>åŒæ—¶è¿›é¤ã€‚</p>
<pre><code class="language-cpp">#include &lt;semaphore.h&gt;
class DiningPhilosophers {
private:
    sem_t fork[5],s;
public:
    DiningPhilosophers() {
        // å¦‚æœåŒæ—¶æ‹¿èµ·ä¸¤åªå‰å­çš„è¯ï¼Œå¯ä»¥åŒæ—¶æœ‰ä¸¤ä¸ªäººè¿›é¤
        sem_init(&amp;s,0,2);
        // å½“ä¸”ä»…å½“ä¸¤åªå‰å­å‡å¯ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥è¿›é¤
        sem_init(&amp;s,0,1);
        for(int i=0;i&lt;5;i++){
            sem_init(&amp;fork[i],0,1);
        }
    }
    
    // AND å‹ä¿¡å·é‡
    void Sswait(sem_t left,sem_t right){
        int lval,rval;
        sem_getvalue(&amp;left,&amp;lval);
        sem_getvalue(&amp;right,&amp;rval);
        if(lval==1&amp;&amp;rval==1){
            sem_wait(&amp;s);
            sem_wait(&amp;left);
            sem_wait(&amp;right);
        }
    }

    void wantsToEat(int philosopher,
                    function&lt;void()&gt; pickLeftFork,
                    function&lt;void()&gt; pickRightFork,
                    function&lt;void()&gt; eat,
                    function&lt;void()&gt; putLeftFork,
                    function&lt;void()&gt; putRightFork) {
        int l=philosopher,r=(philosopher+1)%5;
        Sswait(fork[l],fork[r]);
        pickLeftFork();
        pickRightFork();
        eat();
        putLeftFork();
        sem_post(&amp;fork[l]);
        putRightFork();
        sem_post(&amp;fork[r]);
        sem_post(&amp;s);
    }
};
</code></pre>
<blockquote>
<p>æ‰§è¡Œç”¨æ—¶ï¼š204 ms<br>
å†…å­˜æ¶ˆè€—ï¼š13.4 MB</p>
</blockquote>
<h2 id="å…ˆæ‹¿å¥‡æ•°å·å‰å­ï¼Œå†æ‹¿å¶æ•°å·å‰å­"><a class="header-anchor" href="#å…ˆæ‹¿å¥‡æ•°å·å‰å­ï¼Œå†æ‹¿å¶æ•°å·å‰å­"># </a>å…ˆæ‹¿å¥‡æ•°å·å‰å­ï¼Œå†æ‹¿å¶æ•°å·å‰å­</h2>
<p>è§„å®šå¥‡æ•°å·å“²å­¦å®¶å…ˆæ‹¿ä»–å·¦è¾¹çš„å‰å­ï¼Œç„¶åå†å»æ‹¿å³è¾¹çš„å‰å­ï¼Œè€Œå¶æ•°å·å“²å­¦å®¶åˆ™ç›¸åã€‚å³äº”ä½å“²å­¦å®¶éƒ½å…ˆç«äº‰å¥‡æ•°å·å‰å­ï¼Œè·å¾—åï¼Œå†å»ç«äº‰å¶æ•°å·å‰å­ï¼Œæœ€åæ€»ä¼šæœ‰ä¸€ä½å“²å­¦å®¶èƒ½è·å¾—ä¸¤åªå‰å­è€Œè¿›é¤ã€‚</p>
<pre><code class="language-cpp">class DiningPhilosophers {
private:
    mutex fork[5];
public:
    DiningPhilosophers() {

    }

    void wantsToEat(int philosopher,
                    function&lt;void()&gt; pickLeftFork,
                    function&lt;void()&gt; pickRightFork,
                    function&lt;void()&gt; eat,
                    function&lt;void()&gt; putLeftFork,
                    function&lt;void()&gt; putRightFork) {
        int l=philosopher,r=(philosopher+1)%5;
        if(philosopher%2){
            fork[l].lock();
            pickLeftFork();
            fork[r].lock();
            pickRightFork();
        }else{
            fork[r].lock();
            pickRightFork();
            fork[l].lock();
            pickLeftFork();
        }
        eat();
        putLeftFork();
        fork[l].unlock();
        putRightFork();
        fork[r].unlock();
    }
};
</code></pre>
<blockquote>
<p>æ‰§è¡Œç”¨æ—¶ï¼š212 ms<br>
å†…å­˜æ¶ˆè€—ï¼š13.6 MB</p>
</blockquote>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Œå­¦ä¹ ç¬”è®°ã€RSAä¸­çš„æ•°è®º</title>
    <url>/2022/10/RSA/</url>
    <content><![CDATA[<h1 id="è´¹é©¬å°å®šç†"><a class="header-anchor" href="#è´¹é©¬å°å®šç†"># </a>è´¹é©¬å°å®šç†</h1>
<p>è‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> æ˜¯ç´ æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span> æ˜¯æ­£æ•´æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">gcd(a, p)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mrow><mi>p</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>â‰¡</mo><mn>1</mn><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>p</mi></mrow><annotation encoding="application/x-tex">a ^ {p - 1} \equiv 1 \mod p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span></span></span></span>ã€‚<br>
å¦ä¸€ç§å½¢å¼ï¼šè‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> æ˜¯ç´ æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span> æ˜¯æ­£æ•´æ•°ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mi>p</mi></msup><mo>â‰¡</mo><mi>a</mi><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>p</mi></mrow><annotation encoding="application/x-tex">a ^ p \equiv a \mod p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span></span></span></span>ã€‚</p>
<h1 id="æ¬§æ‹‰å‡½æ•°"><a class="header-anchor" href="#æ¬§æ‹‰å‡½æ•°"># </a>æ¬§æ‹‰å‡½æ•°</h1>
<p>è‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> æ˜¯æ­£æ•´æ•°ï¼Œå°äº <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> ä¸”ä¸ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> äº’è´¨çš„æ­£æ•´æ•°çš„ä¸ªæ•°ç§°ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> çš„æ¬§æ‹‰å‡½æ•°ï¼Œè®°ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\varphi(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>ã€‚</p>
<ul>
<li>è‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> æ˜¯ç´ æ•°ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\varphi(n) = n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚</li>
<li>è‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mi>p</mi><mo>Ã—</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">n = p \times q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span></span></span></span>ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span></span></span></span> éƒ½æ˜¯ç´ æ•°ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ï†</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>Ã—</mo><mi>Ï†</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>p</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>Ã—</mo><mo stretchy="false">(</mo><mi>q</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\varphi(n) = \varphi(p) \times \varphi(q) = (p - 1) \times (q - 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ã€‚</li>
</ul>
<h1 id="æ¬§æ‹‰å®šç†"><a class="header-anchor" href="#æ¬§æ‹‰å®šç†"># </a>æ¬§æ‹‰å®šç†</h1>
<p>è‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> äº’ç´ ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mrow><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></msup><mo>â‰¡</mo><mn>1</mn><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>n</mi></mrow><annotation encoding="application/x-tex">a ^ {\varphi(n)} \equiv 1 \mod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">Ï†</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">n</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>ã€‚</p>
<blockquote>
<p>è´¹é©¬å°å®šç†æ˜¯æ¬§æ‹‰å®šç†çš„ç‰¹æ®Šæƒ…å†µï¼šå½“ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">n = p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> æ—¶ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\varphi(n) = p - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚</p>
</blockquote>
<h1 id="Miller-Rabin-æ¦‚ç‡æ£€æµ‹ç´ æ•°ç®—æ³•"><a class="header-anchor" href="#Miller-Rabin-æ¦‚ç‡æ£€æµ‹ç´ æ•°ç®—æ³•"># </a>Miller-Rabin æ¦‚ç‡æ£€æµ‹ç´ æ•°ç®—æ³•</h1>
<p>åŸç†ï¼š</p>
<ol>
<li>å¦‚æœ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> ä¸ºå¤§äº <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> çš„ç´ æ•°ï¼Œåˆ™æ–¹ç¨‹ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>â‰¡</mo><mn>1</mn><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>p</mi></mrow><annotation encoding="application/x-tex">x ^ 2 \equiv 1 \mod p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span></span></span></span> çš„è§£åªæœ‰ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x = -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span>ã€‚</li>
<li><a href="#%E8%B4%B9%E9%A9%AC%E5%B0%8F%E5%AE%9A%E7%90%86">è´¹é©¬å°å®šç†</a>ã€‚</li>
</ol>
<pre><code class="language-cpp">/*
 * ç”¨æ³•ï¼šå–ä¸åŒçš„ 2 &lt;= a &lt; nï¼Œæ£€æµ‹ n æ˜¯å¦æ˜¯ç´ æ•°
 * è¾“å…¥ï¼ša, n
 * è¾“å‡ºï¼šè‹¥è¿”å› falseï¼Œåˆ™ n ä¸€å®šä¸æ˜¯ç´ æ•°ï¼Œå¦åˆ™ n æœ‰æ¦‚ç‡æ˜¯ç´ æ•°
 */
bool witness(const int &amp; a, const int &amp;n)  {
    b = n - 1, k = -1;
    while (b) b &gt;&gt;= 1, k++;  // bk...b0
    b = n - 1;  // ç”¨äºç®— a ^ (n - 1) % n
    d = 1;  // ä¸¤ä¸ªç”¨é€”ï¼šd = x ^ 2 % n, d = a ^ (n - 1) % n
    for (int i = k; i &gt;= 0; i--) {
        x = d;
        d = d * d % n;  // d = x ^ 2 % n
        if (d == 1 &amp;&amp; x != 1 &amp;&amp; x != n - 1) return false;  // è¿åäº†è§£åªæœ‰ 1 å’Œ -1
        if (b &gt;&gt; i &amp; 1 == 1) d = d * a % n;  // bi = 1
    }
    if (d != 1) return false;  // è¿åäº†è´¹é©¬å°å®šç†
    return true;
}
</code></pre>
<h1 id="æ¬§å‡ é‡Œå¾—ç®—æ³•-è¾—è½¬ç›¸é™¤æ³•"><a class="header-anchor" href="#æ¬§å‡ é‡Œå¾—ç®—æ³•-è¾—è½¬ç›¸é™¤æ³•"># </a>æ¬§å‡ é‡Œå¾—ç®—æ³• / è¾—è½¬ç›¸é™¤æ³•</h1>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a, b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span></span></span></span> æ˜¯ä»»æ„ä¸¤ä¸ªæ­£æ•´æ•° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>&gt;</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a &gt; b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>ï¼Œå®ƒä»¬çš„æœ€å¤§å…¬å› å­ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">gcd(a, b) = gcd(b, a \mod b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>ã€‚<br>
åœæ­¢æ¡ä»¶ï¼š</p>
<ul>
<li>å½“ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a \mod b = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> æ—¶ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">gcd(a, b) = b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>ã€‚</li>
<li>å½“ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>b</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">a \mod b = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> æ—¶ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>b</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">gcd(a, b) = a \mod b = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚</li>
</ul>
<h1 id="æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•"><a class="header-anchor" href="#æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•"># </a>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</h1>
<p>é€šè¿‡è¾—è½¬ç›¸é™¤æ³•å¯æ¨å‡ºï¼šå­˜åœ¨æ•´æ•° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo separator="true">,</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">s, t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span></span></span></span>ï¼Œä½¿å¾— <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>a</mi><mo>+</mo><mi>t</mi><mi>b</mi><mo>=</mo><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sa + tb = gcd(a, b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>ï¼Œå³ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬å› æ•°å¯ä»¥ç”±è¿™ä¸¤ä¸ªæ•°çº¿æ€§è¡¨ç¤ºã€‚<br>
æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•å…ˆé€šè¿‡<a href="#%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95-%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95">æ¬§å‡ é‡Œå¾—ç®—æ³•</a>æ±‚å‡º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">gcd(a, b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span>ï¼Œè‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">gcd(a, b) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œåˆ™æœ‰ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>a</mi><mo>+</mo><mi>t</mi><mi>b</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">sa + tb = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œå³ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>b</mi><mo>â‰¡</mo><mn>1</mn><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>a</mi></mrow><annotation encoding="application/x-tex">tb \equiv 1 \mod a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span> åœ¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>a</mi></mrow><annotation encoding="application/x-tex">\mod a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span></span></span></span> ä¸‹æœ‰ä¹˜æ³•é€†å…ƒ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>ã€‚</p>
<pre><code class="language-cpp">/*
 * ç”¨æ³•ï¼šæ±‚è§£ ax + by = gcd(a, b) ä¸­çš„ x å’Œ y
 * è¾“å…¥ï¼ša, b (a &gt; b)
 * è¾“å‡ºï¼šè¿”å›æ˜¯å¦æœ‰ä¹˜æ³•é€†å…ƒã€‚è‹¥ y3 = 1ï¼Œåˆ™æœ‰ gcd(a, b) = 1ï¼Œå³ b åœ¨ mod a ä¸‹æœ‰ä¹˜æ³•é€†å…ƒ yï¼›å¦åˆ™ gcd(a, b) = x3ï¼Œæ— ä¹˜æ³•é€†å…ƒ
 */
bool extendedEuclid(const int &amp;a, const int &amp;b, int &amp;x, int &amp;y) {
    int x3 = a, y3 = b;  // ç”¨äºè¾—è½¬ç›¸é™¤æ±‚ gcd(a, b)
    int x1 = 1, y1 = 0;  // æ»¡è¶³ ax1 + bx = x3 = a, ay1 + by = y3 = b
    x = 0, y = 1;
    int t1, t2, t3, q;
    while (y3 != 0 &amp;&amp; y3 != 1) {  // è¾—è½¬ç›¸é™¤è¿˜æœªåˆ°åœæ­¢æ¡ä»¶
        q = x3 / y3;
        t1 = x1 - q * y1, t2 = x - q * y, t3 = x3 - q * y3;
        x1 = y1, x = y, x3 = y3;
        y1 = t1, y = t2, y3 = t3;  // é€šè¿‡æ•°å­¦å½’çº³æ³•å¯å¾—åˆ° ay1 + by = y3ï¼Œå½“ y3 = 1 æ—¶ï¼Œgcd(a, b) = 1ï¼Œå³ ay1 + by = 1ï¼Œb åœ¨ mod a ä¸‹æœ‰ä¹˜æ³•é€†å…ƒ y
    }
    while (y &lt; 0) y += a;  // æ±‚è§£å‡ºæ¥çš„ y å¯èƒ½æ˜¯è´Ÿæ•°
    return y3 == 1 || x == 1;
}
</code></pre>
<h1 id="æ±‚ä¹˜æ³•é€†å…ƒ"><a class="header-anchor" href="#æ±‚ä¹˜æ³•é€†å…ƒ"># </a>æ±‚ä¹˜æ³•é€†å…ƒ</h1>
<ul>
<li><a href="#%E8%B4%B9%E9%A9%AC%E5%B0%8F%E5%AE%9A%E7%90%86">è´¹é©¬å°å®šç†</a>ï¼šè‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> æ˜¯ç´ æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span> æ˜¯æ­£æ•´æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">gcd(a, p)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span> åœ¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>p</mi></mrow><annotation encoding="application/x-tex">\mod p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span></span></span></span> ä¸‹çš„ä¹˜æ³•é€†å…ƒä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>a</mi><mrow><mi>p</mi><mo>âˆ’</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">a ^ {p - 2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>ã€‚</li>
<li><a href="#%E6%89%A9%E5%B1%95%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95">æ‰©å±•æ¬§å‡ é‡Œå¾—</a>ï¼šè‹¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mtext>â€…â€Š</mtext><mo stretchy="false">(</mo><mi>a</mi><mo>&gt;</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a, b \; (a &gt; b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span> æ˜¯æ­£æ•´æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">gcd(a, b)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span> åœ¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>a</mi></mrow><annotation encoding="application/x-tex">\mod a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span></span></span></span> ä¸‹çš„ä¹˜æ³•é€†å…ƒä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mtext>â€…â€Š</mtext><mo stretchy="false">(</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mi>y</mi><mo>=</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y \; (ax + by = 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ã€‚</li>
</ul>
<blockquote>
<p>åœ¨ RSA ä¸­ï¼Œå·²çŸ¥å…¬é’¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">e</span></span></span></span> å’Œæ¬§æ‹‰å‡½æ•° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\varphi(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>ï¼Œéœ€è¦æ±‚æ»¡è¶³ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>â‹…</mo><mi>e</mi><mo>â‰¡</mo><mn>1</mn><mspace></mspace><mspace width="0.6666666666666666em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext>â€‰</mtext><mtext>â€‰</mtext><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d \cdot e \equiv 1 \mod \varphi(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> çš„ç§é’¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>ã€‚å› ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>p</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>q</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\varphi(n) = (p - 1)(q - 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> å¿…ä¸ºåˆæ•°ï¼Œæ‰€ä»¥ä¸å¯ç”¨è´¹é©¬å°å®šç†æ±‚è§£ã€‚å› ä¸ºé€‰å– <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">e</span></span></span></span> æ—¶æ»¡è¶³ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>e</mi><mo separator="true">,</mo><mi>Ï†</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">gcd(e, \varphi(n)) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">Ï†</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œæ‰€ä»¥å¯ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—æ±‚è§£ï¼Œä¸”å¿…å­˜åœ¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>ä¸€èµ·å­¦ä¹ å§</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>ä¿¡æ¯å®‰å…¨</tag>
        <tag>RSA</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨ Visual Studio å¸®åŠ©å­¦ä¹ ã€Šè®¡ç®—æœºç»„æˆåŸç†ã€‹</title>
    <url>/2020/09/VSCO/</url>
    <content><![CDATA[<p>x86é‡‡ç”¨å°ç«¯æ–¹å¼å­˜å‚¨æ•°æ®ï¼Œæ•°æ®æŒ‰è¾¹ç•Œå¯¹é½å­˜å‚¨</p>
<h1 id="C"><a class="header-anchor" href="#C"># </a>C++</h1>
<h2 id="è®¾ç½®C-æ–­ç‚¹"><a class="header-anchor" href="#è®¾ç½®C-æ–­ç‚¹"># </a>è®¾ç½®C++æ–­ç‚¹</h2>
<p><img src="/2020/09/VSCO/1.jpg" alt="1"></p>
<h2 id="æŸ¥çœ‹C-å˜é‡åœ°å€"><a class="header-anchor" href="#æŸ¥çœ‹C-å˜é‡åœ°å€"># </a>æŸ¥çœ‹C++å˜é‡åœ°å€</h2>
<p>ç‚¹å‡»ã€å¼€å§‹è°ƒè¯•ã€‘å<br>
æ‰“å¼€ã€è°ƒè¯•ã€‘ã€å¿«é€Ÿç›‘è§†ã€‘è¾“å…¥<code>&amp;å˜é‡</code>ï¼ˆå³ï¼šå–åœ°å€ï¼‰ï¼Œç‚¹ã€é‡æ–°è®¡ç®—ã€‘ï¼Œå³å¯å¾—åˆ°å˜é‡çš„åœ°å€<br>
<img src="/2020/09/VSCO/2.jpg" alt="2"></p>
<h2 id="æŸ¥çœ‹å†…å­˜"><a class="header-anchor" href="#æŸ¥çœ‹å†…å­˜"># </a>æŸ¥çœ‹å†…å­˜</h2>
<p>ç‚¹å‡»ã€å¼€å§‹è°ƒè¯•ã€‘å<br>
æ‰“å¼€ã€è°ƒè¯•ã€‘ã€çª—å£ã€‘ã€å†…å­˜ã€‘ï¼Œå³å¯è°ƒå‡ºå†…å­˜çª—å£<br>
è¾“å…¥å˜é‡åœ°å€å³å¯æŸ¥çœ‹å†…å­˜ä¸­è¯¥å˜é‡çš„å­˜å‚¨æƒ…å†µ<br>
<img src="/2020/09/VSCO/3.jpg" alt="3"></p>
<h2 id="æŸ¥çœ‹C-ç”Ÿæˆçš„æ±‡ç¼–è¯­è¨€"><a class="header-anchor" href="#æŸ¥çœ‹C-ç”Ÿæˆçš„æ±‡ç¼–è¯­è¨€"># </a>æŸ¥çœ‹C++ç”Ÿæˆçš„æ±‡ç¼–è¯­è¨€</h2>
<p>ç‚¹å‡»ã€å¼€å§‹è°ƒè¯•ã€‘å<br>
æ‰“å¼€ã€è°ƒè¯•ã€‘ã€çª—å£ã€‘ã€åæ±‡ç¼–ã€‘ï¼Œå³å¯çœ‹åˆ°C++ç”Ÿæˆçš„æ±‡ç¼–è¯­è¨€<br>
<img src="/2020/09/VSCO/4.jpg" alt="4"></p>
<h2 id="æŸ¥çœ‹å¯„å­˜å™¨"><a class="header-anchor" href="#æŸ¥çœ‹å¯„å­˜å™¨"># </a>æŸ¥çœ‹å¯„å­˜å™¨</h2>
<p>ç‚¹å‡»ã€å¼€å§‹è°ƒè¯•ã€‘å<br>
æ‰“å¼€ã€è°ƒè¯•ã€‘ã€çª—å£ã€‘ã€å¯„å­˜å™¨ã€‘ï¼Œå³å¯çœ‹åˆ°å„å¯„å­˜å™¨ä¸­çš„æ•°æ®<br>
<img src="/2020/09/VSCO/5.jpg" alt="5"></p>
<hr>
<h1 id="ASM"><a class="header-anchor" href="#ASM"># </a>ASM</h1>
<h2 id="ASMé…ç½®"><a class="header-anchor" href="#ASMé…ç½®"># </a>ASMé…ç½®</h2>
<ol>
<li>
<p>åˆ›å»ºä¸€ä¸ª Visual C++ ç©ºå·¥ç¨‹ï¼Œæ­¤æ—¶å…ˆä¸è¦æ·»åŠ æ±‡ç¼–æºæ–‡ä»¶</p>
</li>
<li>
<p>åœ¨ã€è§£å†³æ–¹æ¡ˆæµè§ˆå™¨ã€‘è§†å›¾ä¸­ï¼Œåœ¨ã€é¡¹ç›®åç§°ã€‘ä¸Šå³å‡»é€‰æ‹©ã€ç”Ÿæˆä¾èµ–é¡¹ã€‘ã€ç”Ÿæˆè‡ªå®šä¹‰ã€‘ï¼Œå‹¾é€‰ã€masm(.targets, .props)ã€‘é¡¹<br>
<img src="/2020/09/VSCO/6.jpg" alt="6"></p>
</li>
<li>
<p>åœ¨ã€è§£å†³æ–¹æ¡ˆæµè§ˆå™¨ã€‘è§†å›¾ä¸­ï¼Œåœ¨ã€é¡¹ç›®åç§°ã€‘ä¸Šå³å‡»é€‰æ‹©ã€å±æ€§ã€‘ï¼Œåœ¨å·¦ä¾§ã€é…ç½®å±æ€§ã€‘å¯¼èˆªä¸­ï¼Œé€‰æ‹©ã€é“¾æ¥å™¨ã€‘ã€ç³»ç»Ÿã€‘ï¼Œ åœ¨ã€å­ç³»ç»Ÿã€‘å³ä¾§ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©ã€æ§åˆ¶å°(/SUBSYSTEM:CONSOLE)ã€‘<br>
<img src="/2020/09/VSCO/7.jpg" alt="7"></p>
</li>
<li>
<p>æ·»åŠ æ±‡ç¼–æºä»£ç <code>filename.asm</code>ï¼ˆæ·»åŠ C++æ–‡ä»¶ï¼Œç„¶åä¿®æ”¹ä¸º<code>.asm</code>åç¼€ï¼‰ï¼Œï¼ˆè¿™ä¸€æ­¥è¦æ”¾åœ¨æœ€åï¼Œå¦åˆ™å¯èƒ½ä¼šæŠ¥é”™ï¼‰</p>
</li>
</ol>
<h2 id="å¼•å…¥ä¾èµ–åº“Irvine"><a class="header-anchor" href="#å¼•å…¥ä¾èµ–åº“Irvine"># </a>å¼•å…¥ä¾èµ–åº“Irvine</h2>
<ol>
<li>
<p>é“¾æ¥å™¨ä¸­æ·»åŠ åŒ…å«è·¯å¾„ï¼šåœ¨ã€è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨ã€‘ä¸­, é¡¹ç›®åç§°ä¸Šå³å‡»é€‰æ‹©ã€å±æ€§ã€‘ã€é“¾æ¥å™¨ã€‘ã€å¸¸è§„ã€‘ã€é™„åŠ åº“ç›®å½•ã€‘ï¼Œ<code>C:\Irvine</code><br>
<img src="/2020/09/VSCO/8.jpg" alt="8"></p>
</li>
<li>
<p>é“¾æ¥å™¨ä¸­æ·»åŠ é™„åŠ ä¾èµ–é¡¹ï¼šåœ¨ã€è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨ã€‘ä¸­, é¡¹ç›®åç§°ä¸Šå³å‡»é€‰æ‹©ã€å±æ€§ã€‘ã€é“¾æ¥å™¨ã€‘ã€è¾“å…¥ã€‘ã€é™„åŠ ä¾èµ–é¡¹ã€‘ï¼Œä¸»è¦åŒ…å«åº“: <code>user32.lib</code>ï¼Œ<code>Irvine32.lib</code>ï¼Œ<code>kernel32.Lib</code><br>
<img src="/2020/09/VSCO/9.jpg" alt="9"></p>
</li>
</ol>
<h2 id="è¿è¡ŒASM"><a class="header-anchor" href="#è¿è¡ŒASM"># </a>è¿è¡ŒASM</h2>
<ol>
<li>
<p>è®¾ç½®æ–­ç‚¹<br>
<img src="/2020/09/VSCO/10.jpg" alt="10"></p>
</li>
<li>
<p>åœ¨è¿è¡Œæ—¶å¯èƒ½ä¼šå‡ºç°ã€ç³»ç»Ÿèµ„æºä¸è¶³ã€‘æ— æ³•è¿è¡Œçš„æç¤ºï¼Œåªè¦å°†McAfeeå…³æ‰å³å¯</p>
</li>
</ol>
]]></content>
      <categories>
        <category>æç‚¹ä»€ä¹ˆä¸œä¸œå§</category>
      </categories>
      <tags>
        <tag>Visual Studio</tag>
        <tag>è®¡ç®—æœºç»„æˆåŸç†</tag>
      </tags>
  </entry>
</search>
